<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<link rel="stylesheet" type="text/css" href="css/my_css.css"/>
<link rel="stylesheet" type="text/css" href="css/button_style.css"/>

</head>
<body>
<link rel="stylesheet" type="text/css" href="css/style.css">
<table width="80%" align="center" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><img src="images/LOGO.gif" width="100%" height="187"></td>
  </tr>
  <tr>
    <td><ul class="glossymenu">
	<li><a href="index.html"><b>Home</b></a></li>
	<li><a href="aboutus.html"><b>About Us</b></a></li>
	<li><a href="contactus.html"><b>Contact Us</b></a></li>	
	<li><a href="enquiry.html"><b>Enquiry</b></a></li>	
  <li><a href="career.html"><b>Career</b></a></li>	
  <li><a href="login.html"><b>Login</b></a></li>

</ul></td>
  </tr>
</table>
<table width="80%" border="0" align="center" cellpadding="0" cellspacing="0" style="border-style:solid;border-width:thin;border-color:#999">
  
  <tr>
    <td height="500"><table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td height="80"><img src="images/enquiry-banner (2).jpg" width="100%" height="160" /></td>
      </tr>
      <tr>
        <td height="383"><table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td width="55%" height="385" align="center"><table width="96%" border="0" cellspacing="0" cellpadding="0"  style="border-style:solid;border-width:thin;border-color:#999" >
              <tr>
                <td height="371"><table width="100%" border="0" cellspacing="0" cellpadding="0">
                  <tr>
                    <td height="32" align="center"></td>
                  </tr>
                  <tr>
                    <td height="341" align="center">
                    <form id="form">
                    <table width="100%" border="0" cellspacing="0" cellpadding="0" height="341">
                      <tr>
                        <td width="38%" align="right" class="style3">Name</td>
                        <td width="3%">&nbsp;</td>
                        <td width="59%">
                          <input name="name" type="text" id="name" size="40" />
                          <span id="usernameError" style="color:red;"></span>
                        </td>
                      </tr>
                      <tr>
                        <td align="right" class="style3">Email-Id</td>
                        <td>&nbsp;</td>
                        <td>
                          <input name="email" type="text" id="email" size="40" />
                          <span id="emailError" style="color:red;"></span>
                        </td>
                      </tr>
                      <tr>
                        <td align="right" class="style3">Contact No</td>
                        <td>&nbsp;</td>
                        <td>
                          <input name="cno" type="text" id="cno" size="40" />
                          <span id="mobileError" style="color:red;"></span>
                        </td>
                      </tr>
                      <tr>
                        <td align="right" class="style3">Gender</td>
                        <td>&nbsp;</td>
                        <td><table width="100%" border="0" cellspacing="0" cellpadding="0">
                          <tr>
                            <td width="29%"><input name="gender" type="radio" id="radio" value="M" checked="checked" /> 
                              Male</td>
                            <td width="71%"><input name="gender" type="radio" id="radio2" value="F" />
                              Female</td>
                          </tr>
                        </table></td>
                      </tr>
                      <tr>
                        <td align="right" class="style3">City</td>
                        <td>&nbsp;</td>
                        <td><select name="city" id="city">
                          <option value="Select City">Select City</option>
                          <option value="Lucknow">Lucknow</option>
                          <option value="Kanpur">Kanpur</option>
                        </select>
                        <span id="cityError" style="color:red;"></span>
                      </td>
                      </tr>
                      <tr>
                        <td align="right" class="style3">Your Query</td>
                        <td>&nbsp;</td>
                        <td><textarea name="query" cols="40" rows="5" id="query"></textarea>
                        <span id="enqError" style="color:red;"></span>
                        </td>
                      </tr>
                      <tr>
                        <td align="right">&nbsp;</td>
                        <td>&nbsp;</td>
                        <td><input name="Submit" type="submit" class="buttonstyle" id="Submit" value="Submit" /></td>
                      </tr>
                    </table></form><div id="generalResult"></div></td>
                  </tr>
                </table></td>
              </tr>
            </table></td>
            <td width="45%"><img src="images/enquiry (1).jpg" width="100%" height="400" /></td>
          </tr>
        </table></td>
      </tr>
    </table></td>
  </tr>
  
</table>
<table width="80%" align="center" border="0" cellspacing="0" cellpadding="0" style="border-top-style:solid;border-width:thin;border-color:#999">
  <tr>
    <td align="center" bgcolor="#CCCCCC">&copy; Copyright 2025 Global Computer Institute</td>
  </tr>
</table>
</body>
<script>
  document.getElementById('form').addEventListener('submit', function(e) {
    e.preventDefault();

    // Clear old error messages
    document.getElementById('usernameError').innerText = "";
    document.getElementById('emailError').innerText = "";
    document.getElementById('mobileError').innerText = "";
    document.getElementById('cityError').innerText = "";
    document.getElementById('enqError').innerText = "";
    document.getElementById('generalResult').innerText = "";
    let hasError = false;

    const username = document.getElementById('name').value.trim();
    const email    = document.getElementById('email').value.trim();
    const mobile = document.getElementById('cno').value.trim();
    const city = document.getElementById('city').value.trim();
    const query = document.getElementById('query').value.trim();
    // Name regex : only letters and spaces
    const nameRegex = /^[A-Za-z\s]+$/;

    if (!nameRegex.test(username)) {
      document.getElementById('usernameError').innerText =
        "Only alphabets and spaces are allowed.";
      hasError = true;
    }
    
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
      document.getElementById('emailError').innerText =
        "Please enter a valid email address.";
      hasError = true;
    }

    
    // Mobile validation (10 digit number only)
    const mobileRegex = /^\d{10}$/;
    if (!mobileRegex.test(mobile)) {
      document.getElementById('mobileError').innerText =
        "Mobile number must contain exactly 10 digits.";
      hasError = true;
    }
    if (city=="Select City") {
      document.getElementById('cityError').innerText =
        "Please Select a City.";
      hasError = true;
    }
    const validPattern = /^[A-Za-z0-9 ,]+$/;

      if (query.length < 10) {
        enqError.textContent = "Minimum 10 characters required.";
        return false;
      }

      if (!validPattern.test(query)) {
        enqError.textContent = "Only alphabets and digits are allowed.";
        return false;
      }
    // Add other validation here (e.g. password length)

    // If any error, stop here
    if (hasError) {
      return;
    }

    // Otherwise send AJAX request
    const formData = new FormData(this);
    const xhr = new XMLHttpRequest();
    xhr.open("POST", "https://example.com/validate-registration", true);
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        if (xhr.status === 200) {
          document.getElementById("generalResult").innerText = xhr.responseText;
        } else {
          document.getElementById("generalResult").innerText =
            "Error while sending data.";
        }
      }
    };
    xhr.send(formData);
  });
</script>
</html>